## üß† AI SQL Advisor

> –£–º–Ω—ã–π AI-–ø–æ–º–æ—â–Ω–∏–∫ –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ SQL-–∑–∞–ø—Ä–æ—Å–æ–≤ –∏–∑ –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ —è–∑—ã–∫–∞.
> –ü–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è –∫ –≤–∞—à–µ–π –±–∞–∑–µ (Postgres / MySQL), –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä—É —Ç–∞–±–ª–∏—Ü –∏ –ø—Ä–µ–¥–ª–∞–≥–∞–µ—Ç –±–µ–∑–æ–ø–∞—Å–Ω—ã–µ SQL-–∑–∞–ø—Ä–æ—Å—ã –≤ read-only —Ä–µ–∂–∏–º–µ.

---

### üöÄ –û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

* üîç –ß—Ç–µ–Ω–∏–µ —Å—Ö–µ–º—ã –ë–î –±–µ–∑ –¥–æ—Å—Ç—É–ø–∞ –∫ –¥–∞–Ω–Ω—ã–º
* üí¨ –ì–µ–Ω–µ—Ä–∞—Ü–∏—è SQL-–∑–∞–ø—Ä–æ—Å–æ–≤ –Ω–∞ –æ—Å–Ω–æ–≤–µ —Ç–µ–∫—Å—Ç–æ–≤–æ–≥–æ –æ–ø–∏—Å–∞–Ω–∏—è
* üß± –ü—Ä–æ–≤–µ—Ä–∫–∞ –∏ –æ–±—ë—Ä—Ç–∫–∞ –æ–ø–∞—Å–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π (`DROP`, `DELETE`, `ALTER`, ‚Ä¶)
* üîí Read-only –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å: SQL –Ω–∏–∫–æ–≥–¥–∞ –Ω–µ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
* ‚òÅÔ∏è –ü–æ–ª–Ω–æ—Å—Ç—å—é –æ–±–ª–∞—á–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ (Supabase + OpenAI + Neon + Vercel)

---

### üß© –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
[–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å]
   ‚Üì
[Next.js UI (Vercel)]
   ‚Üì
[Supabase Edge Functions]
   ‚îú‚îÄ‚îÄ fetch_schema ‚Äî –ø–æ–ª—É—á–∞–µ—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä—É –ë–î
   ‚îî‚îÄ‚îÄ generate_sql ‚Äî —Å–æ–∑–¥–∞—ë—Ç –±–µ–∑–æ–ø–∞—Å–Ω—ã–π SQL —á–µ—Ä–µ–∑ OpenAI
   ‚Üì
[–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö (PostgreSQL / MySQL)]
   ‚Üì
[OpenAI API ‚Äî GPT-4o]
```

---

### ‚öôÔ∏è –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç      | –°—Ç–µ–∫ / –°–µ—Ä–≤–∏—Å                  |
| -------------- | ------------------------------ |
| Frontend       | Next.js (TypeScript, Vercel)   |
| Backend        | Supabase Edge Functions (Deno) |
| –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö    | Neon.tech (PostgreSQL)         |
| AI-–¥–≤–∏–∂–æ–∫      | OpenAI API (GPT-4o)            |
| –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è | Supabase Auth (Email / Google) |
| –î–µ–ø–ª–æ–π         | GitHub ‚Üí Vercel                |

---

### üß™ –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è API

**POST** `/functions/v1/generate_sql`

```json
{
  "nl": "–ü–æ–∫–∞–∂–∏ –≤—Å–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π, –æ—Ñ–æ—Ä–º–∏–≤—à–∏—Ö –∑–∞–∫–∞–∑ –∑–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–µ 3 –¥–Ω—è",
  "schema": { "...": "—Å—Ç—Ä—É–∫—Ç—É—Ä–∞, –ø–æ–ª—É—á–µ–Ω–Ω–∞—è —á–µ—Ä–µ–∑ fetch_schema" }
}
```

**–û—Ç–≤–µ—Ç:**

```json
{
  "sql": "SELECT u.name, u.email FROM users u JOIN orders o ON u.id = o.user_id WHERE o.created_at > NOW() - INTERVAL '3 days';",
  "withSafety": "BEGIN; SAVEPOINT safe; ... ROLLBACK TO SAVEPOINT safe; COMMIT;",
  "warnings": [],
  "usage": { "total_tokens": 932 }
}
```

---

### üß± –õ–æ–∫–∞–ª—å–Ω—ã–π –∑–∞–ø—É—Å–∫ (–¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤)

```bash
# –∫–ª–æ–Ω–∏—Ä—É–µ–º —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π backend
git clone https://github.com/Kechpir/ai-sql-advisor-backend.git
cd ai-sql-advisor-backend

# —É—Å—Ç–∞–Ω–æ–≤–∫–∞ Supabase CLI
npm install -g supabase

# –≤—Ö–æ–¥ –≤ CLI
supabase login

# –¥–µ–ø–ª–æ–π —Ñ—É–Ω–∫—Ü–∏–π
supabase functions deploy fetch_schema
supabase functions deploy generate_sql
```

> ‚ö†Ô∏è –í README –Ω–µ —É–∫–∞–∑—ã–≤–∞–µ–º `project-ref` ‚Äî –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å–≤–æ–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –∏–∑ Supabase Dashboard.

---

### üß≠ –î–æ—Ä–æ–∂–Ω–∞—è –∫–∞—Ä—Ç–∞

| –≠—Ç–∞–ø                           | –°—Ç–∞—Ç—É—Å       |
| ------------------------------ | ------------ |
| ‚úÖ –ì–µ–Ω–µ—Ä–∞—Ü–∏—è SQL                | –≥–æ—Ç–æ–≤–æ       |
| ‚úÖ –ë–µ–∑–æ–ø–∞—Å–Ω–∞—è –æ–±—ë—Ä—Ç–∫–∞ SAVEPOINT | –≥–æ—Ç–æ–≤–æ       |
| ‚úÖ Supabase Edge Functions      | –≥–æ—Ç–æ–≤–æ       |
| üöß UI –Ω–∞ Next.js               | –¥–æ—Ä–∞–±–æ—Ç–∫–∞ UX |
| üîú –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –∏ –±–∏–ª–ª–∏–Ω–≥       | –ø–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è  |
| üîú –¢–∞—Ä–∏—Ñ—ã –∏ Stripe –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è  | –ø–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è  |

---

### üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

* –¢–æ–ª—å–∫–æ **read-only** –æ–ø–µ—Ä–∞—Ü–∏–∏
* SQL-–∑–∞–ø—Ä–æ—Å—ã **–Ω–µ –∏—Å–ø–æ–ª–Ω—è—é—Ç—Å—è** –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
* –û–ø–∞—Å–Ω—ã–µ –≤—ã—Ä–∞–∂–µ–Ω–∏—è –ø–æ–º–µ—á–∞—é—Ç—Å—è –∏ –æ–±–æ—Ä–∞—á–∏–≤–∞—é—Ç—Å—è –≤ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—é
* –°–µ–∫—Ä–µ—Ç—ã —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ **Supabase Secrets**
* –ü—É–±–ª–∏—á–Ω—ã–µ –∫–ª—é—á–∏ (anon) –º–æ–∂–Ω–æ –∫–æ–º–º–∏—Ç–∏—Ç—å, –ø—Ä–∏–≤–∞—Ç–Ω—ã–µ ‚Äî –Ω–µ—Ç

---

### ‚ú® –ê–≤—Ç–æ—Ä

**Kechpir** ‚Äî QA-–∏–Ω–∂–µ–Ω–µ—Ä –∏ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫, —Å–æ–∑–¥–∞—é—â–∏–π AI-–∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ–π —Ä–∞–±–æ—Ç—ã —Å –±–∞–∑–∞–º–∏ –¥–∞–Ω–Ω—ã—Ö.
üì¶ [GitHub ‚Üí Kechpir](https://github.com/Kechpir)
üåê [Vercel Demo ‚Üí ai-sql-advisor-next.vercel.app](https://ai-sql-advisor-next.vercel.app)

---

